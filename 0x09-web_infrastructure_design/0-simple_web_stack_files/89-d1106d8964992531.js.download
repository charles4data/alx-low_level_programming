"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{6250:function(e,t,n){var o=n(3235),r=n(2322);n(2784);var i=n(5505);function a(){let e=(0,o._)(["\n  width: 160px;\n  height: 100%;\n"]);return a=function(){return e},e}let c=i.ZP.img.withConfig({componentId:"sc-aee77f4e-0"})(a());t.Z=()=>(0,r.jsx)(c,{src:"".concat("/pre-products","/images/dialog/clock.svg"),alt:""})},9005:function(e,t,n){n.d(t,{Z:function(){return p}});var o=n(2322),r=n(6340),i=n(2784),a=n(1632);let c={OnlineWhiteboard:"online-whiteboard",WebWhiteboard:"web-whiteboard",MiroDiagraming:"diagramming",Flowcharts:"flowchart",Templates:"editable-templates",IntDisplay:"interactive-display-new-board"},s={[c.OnlineWhiteboard]:a.A.OnlineWhiteboard,[c.WebWhiteboard]:a.A.WebWhiteboard,[c.MiroDiagraming]:a.A.MiroDiagraming,[c.Flowcharts]:a.A.Flowcharts,[c.Templates]:a.A.Templates,[c.IntDisplay]:a.A.IntDisplay};c.OnlineWhiteboard,c.WebWhiteboard,c.MiroDiagraming,c.Flowcharts,c.Templates,c.IntDisplay;let l=Object.entries(s).reduce((e,t)=>{let[n,o]=t;return{[o]:n,...e}},{});var d=n(6407),p=e=>{let{text:t,large:n,blue:a,disableBorder:c}=e,s=(0,i.useContext)(r.Z),p="/".concat(l[s]);return(0,o.jsx)(d.Z,{large:n,blue:a,disableBorder:c,href:"".concat("/pre-products").concat(p).concat("/force-new/"),"data-testid":"create-new-board",children:t})}},3479:function(e,t,n){n.d(t,{Z:function(){return T}});var o=n(3235),r=n(2322),i=n(6340),a=n(2784),c=n(5505),s=n(4527),l=n(1632);function d(){let e=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n"]);return d=function(){return e},e}function p(){let e=(0,o._)(["\n  display: flex;\n  flex-grow: 0;\n  justify-content: space-between;\n"]);return p=function(){return e},e}function u(){let e=(0,o._)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: space-between;\n  align-items: center;\n  align-content: flex-start;\n"]);return u=function(){return e},e}function h(){let e=(0,o._)(["\n  display: flex;\n  flex-grow: 0;\n  justify-content: flex-end;\n"]);return h=function(){return e},e}let g=c.ZP.div.withConfig({componentId:"sc-2f37718-0"})(d()),m=c.ZP.div.withConfig({componentId:"sc-2f37718-1"})(p()),f=c.ZP.div.withConfig({componentId:"sc-2f37718-2"})(u()),x=c.ZP.div.withConfig({componentId:"sc-2f37718-3"})(h()),A={[l.A.MiroDiagraming]:"top-left-diagramming",[l.A.WebWhiteboard]:"top-left",[l.A.OnlineWhiteboard]:"top-left-lite",[l.A.Flowcharts]:"top-left-flowcharts",[l.A.IntDisplay]:"top-left"},w=e=>"".concat("/pre-products","/images/placeholder/").concat(e,".png");var O=e=>{let{appKey:t}=e,n=A[t||l.A.OnlineWhiteboard];return(0,r.jsxs)(g,{children:[(0,r.jsxs)(m,{children:[(0,r.jsx)("img",{src:w(n),alt:""}),(0,r.jsx)("img",{src:w("top-right"),alt:""})]}),(0,r.jsx)(f,{children:(0,r.jsx)("img",{src:w("middle-left"),alt:""})}),(0,r.jsx)(x,{children:(0,r.jsx)("img",{src:w("bottom-right"),alt:""})})]})};function _(){let e=(0,o._)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]);return _=function(){return e},e}let b=c.ZP.div.withConfig({componentId:"sc-4b85de8-0"})(_());var T=()=>{let e=(0,a.useContext)(i.Z);return(0,r.jsxs)(b,{children:[(0,r.jsx)(O,{appKey:e}),(0,r.jsx)(s.a,{})]})}},5089:function(e,t,n){n.d(t,{Z:function(){return T}});var o=n(3235),r=n(2322),i=n(2784),a=n(3479),c=n(3623),s=n(9936),l=n(9005),d=n(3671),p=n(5027),u=n(6250),h=n(1796),g=n(924),m=n(5632),f=n(4083),x=n(1632);let A=e=>{let{text:t,boardId:n,accessLink:o,appKey:a}=e,c=(0,i.useContext)(s.Z),l=(0,m.useRouter)(),d=new URL("".concat(c,"/app/board/")),p="boardId",u=async e=>{let{data:{type:t,currentAccountId:r}}=e;if(!(t&&"LOGIN_SUCCESS"===t))return;let i=await fetch(function(e,t,n,o){let r=new URL("".concat(window.location.origin).concat("/pre-products","/api/").concat(o.entryPoint,"/move-lite-board/"));return r.searchParams.append(p,e),r.searchParams.append("accountId",t),r.searchParams.append("accessLink",n),r.toString()}(n,r,o,a),{credentials:"include"});200===i.status?window.location.assign("".concat(d.toString()).concat(n)):await l.reload()};return(0,g.Z)({event:"message",handler:u}),(0,r.jsx)(h.Z,{"data-testid":"locked-board-signup",onClick:()=>{let e=new URL("".concat(c,"/signup/"));if(e.searchParams.append("channel","lite"),e.searchParams.append(p,n),window.open(e.toString()),a.appKeyValue===x.A.WebWhiteboard){let e=f.Z.getFromClient(a);window.location.replace("".concat(c,"/online-whiteboard/board/").concat(e,"/?openWelcomeBanner=false"))}},children:t})};var w=n(4545),O=n(5505);function _(){let e=(0,o._)(["\n  padding-top: 48px;\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: center;\n"]);return _=function(){return e},e}let b=O.ZP.div.withConfig({componentId:"sc-d46d3397-0"})(_());var T=e=>{let{mainDomain:t=s.a,temporaryBoard:{secondsUntilDelete:n,boardId:o,accessLink:i},appKey:h}=e,{appKeyValue:g}=h,{t:m}=(0,w.$G)("common");return(0,r.jsxs)(s.Z.Provider,{value:t,children:[(0,r.jsx)(a.Z,{}),(0,r.jsxs)(c.ZP,{children:[(0,r.jsx)(b,{children:(0,r.jsx)(u.Z,{})}),(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(p.Z.Header,{"data-testid":"locked-board-header",children:m("preproducts.lockedBoard.headerText")}),(0,r.jsx)(d.Z,{size:d.j.sm}),(0,r.jsxs)(p.Z.Body,{"data-testid":"locked-board-body",children:[(0,r.jsx)(w.cC,{i18nKey:"preproducts.lockedBoard.contentText.availableLifeTimeText",components:{bold:(0,r.jsx)("strong",{})},values:{dialogAppTitle:(e=>{switch(e){case x.A.Flowcharts:return m("preproducts.flowcharts.lockedBoard.dialogAppTitle");case x.A.MiroDiagraming:return m("preproducts.diagramming.lockedBoard.dialogAppTitle");case x.A.IntDisplay:return m("preproducts.intDisplay.lockedBoard.dialogAppTitle");case x.A.OnlineWhiteboard:case x.A.WebWhiteboard:default:return m("preproducts.miroLite.lockedBoard.dialogAppTitle")}})(g)}})," ",(e=>{if(e<3600)return(0,r.jsx)(w.cC,{i18nKey:"preproducts.lockedBoard.contentText.remainingLifeTimeText.less1Hour",components:{bold:(0,r.jsx)("strong",{})}});if(e<86400){let t=Math.floor(e/3600);return 1===t?(0,r.jsx)(w.cC,{i18nKey:"preproducts.lockedBoard.contentText.remainingLifeTimeText.1Hour",components:{bold:(0,r.jsx)("strong",{})}}):(0,r.jsx)(w.cC,{i18nKey:"preproducts.lockedBoard.contentText.remainingLifeTimeText.more1Hour",components:{bold:(0,r.jsx)("strong",{})},values:{hoursUntilDelete:t}})}let t=Math.floor(e/3600/24);return 1===t?(0,r.jsx)(w.cC,{i18nKey:"preproducts.lockedBoard.contentText.remainingLifeTimeText.1Day",components:{bold:(0,r.jsx)("strong",{})}}):(0,r.jsx)(w.cC,{i18nKey:"preproducts.lockedBoard.contentText.remainingLifeTimeText.more1Day",components:{bold:(0,r.jsx)("strong",{})},values:{daysUntilDelete:t}})})(n)," ",m("preproducts.lockedBoard.contentText.signUpToUnlock")]}),(0,r.jsx)(d.Z,{size:d.j.xl}),(0,r.jsx)(A,{text:m("preproducts.lockedBoard.signupButtonText"),boardId:o,accessLink:i,appKey:h}),(0,r.jsx)(d.Z,{size:d.j.ml}),(0,r.jsx)(l.Z,{text:(e=>{switch(e){case x.A.Flowcharts:return m("preproducts.flowcharts.lockedBoard.newBoardLink");case x.A.MiroDiagraming:return m("preproducts.diagramming.lockedBoard.newBoardLink");case x.A.OnlineWhiteboard:case x.A.WebWhiteboard:case x.A.IntDisplay:default:return m("preproducts.onlineWhiteboard.lockedBoard.newBoardLink")}})(g),large:!0})]})]})]})}},924:function(e,t,n){var o=n(2784);t.Z=e=>{let{event:t,handler:n}=e;(0,o.useEffect)(()=>(window.addEventListener(t,n),()=>{window.removeEventListener(t,n)}))}},4083:function(e,t,n){var o=n(9923),r=n(5196),i=n(1632);t.Z=new class{getClientCookieName(e,t){return t?"".concat(e.appKeyValue,"-").concat((0,o.H)(t),"-").concat(this.TEMPORARY_BOARD_TOKEN_COOKIE_NAME):"".concat(e.appKeyValue,"-").concat(this.TEMPORARY_BOARD_TOKEN_COOKIE_NAME)}getCookieDuration(e){return(null==e?void 0:e.appKeyValue)===i.A.Templates?this.TEMPORARY_BOARD_EDITABLE_TEMPLATE_COOKIE_DURATION_IN_DAYS:this.TEMPORARY_BOARD_COOKIE_DURATION_IN_DAYS}setInContext(e,t){let{req:n,res:o}=e,i=new Date;i.setDate(i.getDate()+this.getCookieDuration()),(0,r.setCookie)(this.TEMPORARY_BOARD_TOKEN_COOKIE_NAME,t,{req:n,res:o,expires:i})}setInClient(e,t,n){let o=new Date;o.setDate(o.getDate()+this.getCookieDuration(t));let i=this.getClientCookieName(t,n);(0,r.setCookie)(i,e,{expires:o})}getFromContext(e){let{req:t}=e;return t.cookies[this.TEMPORARY_BOARD_TOKEN_COOKIE_NAME]}getFromClient(e,t){let n=this.getClientCookieName(e,t);return(0,r.getCookie)(n)}removeFromContext(e,t){let{req:n,res:o}=e;(0,r.deleteCookie)("".concat(t,"-").concat(this.TEMPORARY_BOARD_TOKEN_COOKIE_NAME),{req:n,res:o})}removeFromClient(e,t){let n=this.getClientCookieName(e,t);(0,r.deleteCookie)(n)}constructor(){this.TEMPORARY_BOARD_TOKEN_COOKIE_NAME="temporaryBoardCreatedByMeToken",this.TEMPORARY_BOARD_COOKIE_DURATION_IN_DAYS=7,this.TEMPORARY_BOARD_EDITABLE_TEMPLATE_COOKIE_DURATION_IN_DAYS=1}}}}]);